(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{272:function(t,s,e){t.exports=e.p+"assets/img/markdown-img-paste-2019032321135939.654c4f23.png"},273:function(t,s,e){t.exports=e.p+"assets/img/markdown-img-paste-20190323211722171.7ac83753.png"},621:function(t,s,e){"use strict";e.r(s);var r=e(2),a=Object(r.a)({},function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"_020-redis-主从架构下如何才能做到-99-99-的高可用性？"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_020-redis-主从架构下如何才能做到-99-99-的高可用性？","aria-hidden":"true"}},[t._v("#")]),t._v(" 020. redis 主从架构下如何才能做到 99.99% 的高可用性？")]),t._v(" "),r("p",[r("TOC",{class:"table-of-contents",attrs:{"list-type":"ul","include-level":[2,3]}},[r("template",{slot:"header"}),r("template",{slot:"footer"})],2)],1),t._v(" "),r("h2",{attrs:{id:"什么是-99-99-高可用？"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是-99-99-高可用？","aria-hidden":"true"}},[t._v("#")]),t._v(" 什么是 99.99% 高可用？")]),t._v(" "),r("ul",[r("li",[t._v("不可用：系统挂掉，很难恢复起来，短时间内都不行，这就不可用")]),t._v(" "),r("li",[t._v("高可用：全年 99.99/99.9/99 % 的时间都能正常提供服务就是高可用")])]),t._v(" "),r("p",[t._v("这里有一个比较学术点的解释："),r("strong",[t._v("可用性的高低")]),t._v(" 是使用 "),r("strong",[t._v("不可用时间")]),t._v(" 占 "),r("strong",[t._v("总时间")]),t._v(" 的比例来衡量。不可用时间是从故障发生到故障恢复的时间。比如，可用性 4 个 9 的系统（99.99%），它一年宕机时间不能超过53分钟（=365"),r("em",[t._v("24")]),t._v("60*(1-0.9999)）。做到高可用系统，需要尽可能的 "),r("strong",[t._v("降低故障发生的次数")]),t._v(" 和 "),r("strong",[t._v("减少故障持续的时间")]),t._v("。")]),t._v(" "),r("h2",{attrs:{id:"redis-不可用是什么？"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-不可用是什么？","aria-hidden":"true"}},[t._v("#")]),t._v(" redis 不可用是什么？")]),t._v(" "),r("p",[t._v("单实例不可用？主从架构不可用？不可用的后果是什么？")]),t._v(" "),r("p",[r("img",{attrs:{src:e(272),alt:""}})]),t._v(" "),r("p",[t._v("如上图，简单说就是 master 不可用的时候，后果就很严重")]),t._v(" "),r("h2",{attrs:{id:"redis-怎么才能做到高可用？"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#redis-怎么才能做到高可用？","aria-hidden":"true"}},[t._v("#")]),t._v(" redis 怎么才能做到高可用？")]),t._v(" "),r("p",[r("img",{attrs:{src:e(273),alt:""}})]),t._v(" "),r("p",[t._v("通过主备切换，在很短的时间内恢复可用状态。redis 哨兵（sentinal node）功能提供了这种支持。")]),t._v(" "),r("p",[t._v("接下来的几个章节都是讲解哨兵相关知识")])])},[],!1,null,null,null);s.default=a.exports}}]);